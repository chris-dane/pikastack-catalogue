<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PikaPicks</title>
  <link rel="icon" type="image/png" href="pikastack.png" />
  <style>
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      background: #fafafa;
      font-family: system-ui, sans-serif;
      color: #222;
      line-height: 1.5;
    }
    body {
      display: flex;
      justify-content: center;
      padding: 2rem 1rem;
    }
    #content {
      width: 100%;
      max-width: 800px;
    }
    img.logo {
      display: block;
      margin: 0 auto 1rem;
      width: 80px;
      height: auto;
    }
    h1 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 1.2rem;
    }
    p.explainer {
      text-align: center;
      font-size: 1rem;
      color: #333;
      margin: 1.2rem auto 2rem;
      max-width: 650px;
    }
    #search-wrapper {
      position: relative;
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
    }
    #search {
      display: block;
      padding: 0.6rem 2rem 0.6rem 1rem;
      width: 100%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    #clear-search {
      position: absolute;
      right: calc(50% - 200px + 0.75rem);
      background: none;
      border: none;
      font-size: 1.2rem;
      color: #888;
      cursor: pointer;
      height: 100%;
      line-height: 1;
    }
    #clear-search:hover {
      color: #333;
    }
    .item {
      background: #fff;
      border: 1px solid #eee;
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin: 0 auto 1rem;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      max-width: 650px;
      width: 100%;
    }
    .tool {
      font-weight: 600;
      font-size: 1.1rem;
    }
    .url a {
      color: #0366d6;
      text-decoration: none;
      font-size: 0.9rem;
    }
    .meta {
      color: #555;
      font-size: 0.9rem;
      margin: 0.6rem 0;
    }
    .meta b {
      font-weight: 600;
      color: #333;
    }
    @media (max-width: 700px) {
      body {
        padding: 1.5rem 1rem;
      }
      p.explainer, .item {
        max-width: 100%;
      }
      #clear-search {
        right: 1.25rem;
      }
    }
  </style>
</head>
<body>
  <div id="content">
    <img src="pikastack.png" alt="PikaStack Logo" class="logo" />
    <h1>PikaPicks</h1>
    <p class="explainer">
      The PikaStack AI engine biases towards “PikaPicks” because we believe these are proven tools that play nice with AI builds. When relevant, we also strongly consider recommendations from the highly capable Claude Haiku 4.5 AI model.
    </p>

    <div id="search-wrapper">
      <input type="text" id="search" placeholder="Search tools..." />
      <button id="clear-search" title="Clear search">×</button>
    </div>

    <div id="list"></div>
  </div>

  <script>
    fetch('pikastack_catalogue.json')
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById('list');
        const searchInput = document.getElementById('search');
        const clearBtn = document.getElementById('clear-search');

        function renderItems(items) {
          list.innerHTML = '';
          items.forEach(item => {
            const div = document.createElement('div');
            div.className = 'item';
            div.innerHTML = `
              <div class="tool">${item.tool}</div>
              <div class="url"><a href="${item.user_url}" target="_blank">${item.user_url}</a></div>
              <div class="meta"><b>Role:</b> ${item.role}</div>
              <div class="meta"><b>What:</b> ${item.user_what}</div>
              ${item.note ? `<div class="meta"><b>Note:</b> ${item.note}</div>` : ''}
              <div class="meta"><b>Tags:</b> ${item.ai_tags.join(', ')}</div>
              <div class="meta"><b>Cost:</b> ${item.ai_cost}</div>
            `;
            list.appendChild(div);
          });
        }

        renderItems(data);

        searchInput.addEventListener('input', () => {
          const query = searchInput.value.toLowerCase();
          const filtered = data.filter(item =>
            Object.values(item)
              .flat()
              .join(' ')
              .toLowerCase()
              .includes(query)
          );
          renderItems(filtered);
        });

        clearBtn.addEventListener('click', () => {
          searchInput.value = '';
          renderItems(data);
          searchInput.focus();
        });
      });
  </script>
</body>
</html>
